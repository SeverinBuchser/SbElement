@use "sb-element/core/border";
@use "sb-element/core/display";
@use "sb-element/core/spacing";
@use "sb-element/core/transitioning";
@use "sb-element/core/typography";
/*****************************************************************************
Input-Core / Style
******************************************************************************/

// SIZE
@mixin input-core-size($key, $spacing) {
  $bigger: spacing.get-bigger($key);
  &.sb--#{$key} {
    height: $bigger;
    .sb-input-core__spinner-control {
      @include border.radius(s);
      font-size: calc(($bigger / 2) - 2px)
    }
  }

  &.sb--#{$key} .sb-input-core__placeholder.top {
    transform:
      scale(0.75)
      translateY(calc(
        ($bigger / (-2))
        - 87.5%
        - border.get-border-width(xl)
      ));
  }
}

// ROOT
.sb-input-core {
  position: relative;
  display: flex;
  gap: spacing.get-spacing(s);
  box-sizing: border-box;
  width: 100%;

  input {
    width: 100%;
    background: transparent;
    outline: none;
    border: 0;
    @include spacing.padding(0);
    @include typography.font();

    &::-webkit-inner-spin-button, ::-webkit-outer-spin-button {
      -webkit-appearance: none;
    }
  }

  &__spinner-controls {
    @include display.flex($direction: column);
    height: 100%;
  }

  &__spinner-control {
    @include transitioning.ease(200ms, background, color);
    transform: rotate(-90deg);
    text-decoration: none;
    cursor: pointer;
  }

  &__placeholder {
    position: absolute;
    top: 50%;
    left: -4px;
    @include spacing.padding-x(4px);
    pointer-events: none;
    transform-origin: left center;
    transform: translateY(-50%);
    z-index: 2;

    @include transitioning.ease(200ms, transform, color);
  }

  &.disabled input {
    cursor: not-allowed;
  }

  @include spacing.for-each-spacing using ($key, $spacing) {
    @include input-core-size($key, $spacing);
  }
}
