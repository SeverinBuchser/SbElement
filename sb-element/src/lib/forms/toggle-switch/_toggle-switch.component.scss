@use "sass:math";
@use "sb-element/core/spacing";
@use "sb-element/core/transitioning";
@use "sb-element/core/border";
/*****************************************************************************
Toggle-Switch / Style
******************************************************************************/

// SIZE
@mixin toggle-switch-size($key, $spacing) {

  $height: spacing.get-bigger($key);
  $width: calc(2 * $height);
  $diameter: calc(math.div(math.round(math.div(2, 3)*100), 100) * $height);
  $padding: calc(($height - $diameter) / 2);
  $innerwidth: calc($width - 2 * $padding);

  &.sb--#{$key} {
    width: $width;
    height: $height;
    @include border.pill($height);

    div {
      top: calc($padding - border.get-border-width(m));
      left: calc($padding - border.get-border-width(m));
      width: $diameter;
      height: $diameter;
      @include border.radius(50%);
    }

    &.off div {
      transform: translateX(0);
    }
    &.on div {
      transform: translateX(calc($innerwidth - $diameter));
    }
  }
}

// ROOT
.sb-toggle-switch {
  cursor: pointer;
  position: relative;
  @include transitioning.ease(300ms, background);

  div {
    position: absolute;
    @include transitioning.ease(300ms, transform, background);
  }

  &.disabled {cursor: not-allowed;}

  @include spacing.for-each-spacing using ($key, $spacing) {
    @include toggle-switch-size($key, $spacing);
  }
}
