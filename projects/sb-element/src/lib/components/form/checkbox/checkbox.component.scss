@use "src/style/spacing";
@use "src/style/theming";
@use "src/style/transitioning";
@use "src/style/display";
/*****************************************************************************
Checkbox
******************************************************************************/

// THEME
@mixin checkbox-theme($theme, $color) {
  &--#{$theme}-#{$color} {
    .#{$sb-checkbox-root}__checkbox-wrapper .#{$sb-checkbox-root}__checkbox {
      border-color: theming.get-color($theme, $color);
    }
    &.checked {
      .#{$sb-checkbox-root}__checkbox-wrapper .#{$sb-checkbox-root}__checkbox {
        background: theming.get-color($theme, $color);
        .#{$sb-checkbox-root}__tick .sb-icon {
          color: theming.get-text($theme, $color);
        }
      }
    }
  }
}

// SIZE
@mixin checkbox-size($size, $value) {
  &--#{$size} {
    .#{$sb-checkbox-root}__checkbox-wrapper .#{$sb-checkbox-root}__checkbox {
      height: $value;
      width: $value;
      border-radius: calc($value / 3);

      .#{$sb-checkbox-root}__tick {
        .sb-icon {
          font-size: calc($value * 4/5);
        }
      }
    }
  }
}

@mixin checkbox-label($column-start, $column-end, $row-start, $row-end) {
  .#{$sb-checkbox-root}__label {
    grid-column: #{$column-start} + '/' + #{$column-end};
    grid-row: #{$row-start} + '/' + #{$row-end};
  }
}

@mixin checkbox-wrapper($column-start, $column-end, $row-start, $row-end) {
  .#{$sb-checkbox-root}__checkbox-wrapper {
    grid-column: #{$column-start} + '/' + #{$column-end};
    grid-row: #{$row-start} + '/' + #{$row-end};
  }
}

// ROOT
$sb-checkbox-root: 'sb-checkbox';
.#{$sb-checkbox-root} {
  @include display.grid(auto auto);

  &__label {
    display: none;
  }

  &.label {
    .#{$sb-checkbox-root}__label {
      display: block;
      span {
        @include display.flex();
        height: 100%;
      }
    }

    &.label-right {
      @include checkbox-label(2, 3, 1, 2);
      @include checkbox-wrapper(1, 2, 1, 2);
    }

    &.label-left {
      @include checkbox-label(1, 2, 1, 2);
      @include checkbox-wrapper(2, 3, 1, 2);
    }

    &.label-top {
      grid-template-columns: auto;
      @include checkbox-label(1, 2, 1, 2);
      @include checkbox-wrapper(1, 2, 2, 3);
    }

    &.label-bottom {
      grid-template-columns: auto;
      @include checkbox-label(1, 2, 2, 3);
      @include checkbox-wrapper(1, 2, 1, 2);
    }
  }

  &__checkbox-wrapper &__checkbox {
    box-sizing: border-box;
    border: 2px solid;
    cursor: pointer;
    @include transitioning.ease(300ms, border-color, background);

    .#{$sb-checkbox-root}__tick {
      height: 100%;
      width: 100%;
      .sb-icon {
        height: 100%;
        width: 100%;
        @include display.flex();
        @include transitioning.ease(300ms, color);
      }
    }
  }


  &.unchecked &__checkbox-wrapper &__checkbox &__tick .sb-icon {
    color: transparent;
  }

  &.disabled {
    cursor: not-allowed;
    &.label {
      .#{$sb-checkbox-root}__label {
        cursor: not-allowed;
      }
    }
  }

  &.disabled &__checkbox-wrapper &__checkbox &__tick {
    cursor: not-allowed;
  }


  @include theming.for-each-theme-color using ($theme, $theme-palette, $color,
  $color-palette) {
    @include checkbox-theme($theme, $color);
  }

  @include spacing.for-each-size using ($size, $value) {
    @include checkbox-size($size, $value);
  }
}
